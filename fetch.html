<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <article></article>
    <input
      type="button"
      value="fetch"
      onclick="
				/*
				fetch('html').then(function(response) { // then 안에 들어있으니 익명함수다
					// fetch 했을 때 매개변수에 담긴 내용이 나온다. 
					response.text().then(function(text) {
						// alert(text); // text안에 서버가 응답한 데이터가 들어 있다.
						document.querySelector('article').innerHTML = text;
			})
		})
		*/
		//Asynchronous(동기)
			fetch('html').then(function(response) { // 익명함수식
				console.log(response); // response를 찍어보면 응답 객체가 나온다. response가 서버 응답 객체이다.
				// response의 속성 값 중 status 는 200이 나온다. (성공, 정상 실행이라는 의미)
				// 실패 시 status에 404가 나온다. (파일을 찾을 수 없다는 의미)
				console.log(response.status);
					if(respons.status == '404') {
						alert('Not found')
						// 파일 찾지 못했을 때(에러 시) 알림 띄우기
					}
			});
			console.log(1);
			console.log(2);






		// function callbackme() {
		// 	console.log('response end');
		// }
		// callbackme = function() {
		// 	console.log('response end');
		// }
		// fetch('html').then(callbackme); // fetch는 인자로 전달된 데이터를 서버로 요청한다.
		// 	console.log(1);
		// 	console.log(2);
			// 1 2 를 한 뒤에 응답이 끝나면 response end가 된다.
		/*
					then(function(response) {
					// fetch 했을 때 매개변수에 담긴 내용이 나온다. 
					response.text().then(function(text) {
					// alert(text); // text안에 서버가 응답한 데이터가 들어 있다.
					document.querySelector('article').innerHTML = text;
			})
		})
		then은 이렇게 한 묶음이다. 서버가 적당한 데이터를 꺼내서 응답을 해주어야 한다. 하지만 응답에 시간이 걸릴 수도 있다.
		응답시간동안 아무것도 안 하면 비효율적이므로 html파일을 받아오는 데 성공하면 then뒤의 문장이 실행되기로 약속되어 있다.
		*/

	"
    />
  </body>
</html>
